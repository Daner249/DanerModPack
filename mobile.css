/* mobile.css - Оптимизация для мобильных устройств */

/* Медиа-запросы для мобильных устройств */
@media screen and (max-width: 768px) {
    /* Общие стили для мобильных */
    html {
        font-size: 14px;
    }
    
    body {
        overflow-x: hidden;
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: transparent;
    }
    
    /* Улучшенная навигация для мобильных */
    .nav-container {
        padding: 0 15px !important;
        flex-wrap: wrap;
    }
    
    .logo {
        font-size: 1.6rem !important;
        gap: 5px !important;
    }
    
    .logo-text {
        font-size: 1.4rem !important;
    }
    
    .logo-number {
        font-size: 1.3rem !important;
        padding: 2px 8px !important;
    }
    
    .logo-pack {
        font-size: 1.3rem !important;
    }
    
    .tagline {
        font-size: 0.8rem !important;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .mobile-menu-btn {
        display: flex !important;
        align-items: center;
        justify-content: center;
        width: 44px;
        height: 44px;
        min-width: 44px;
        min-height: 44px;
        position: fixed;
        top: 15px;
        right: 15px;
        z-index: 1001;
        background: var(--secondary);
        color: var(--light);
        border: none;
        border-radius: 50%;
        font-size: 1.3rem;
        cursor: pointer;
        transition: var(--transition);
        touch-action: manipulation;
    }
    
    .mobile-menu-btn:active {
        transform: scale(0.95);
    }
    
    .nav-links {
        position: fixed !important;
        top: 70px !important;
        left: 0 !important;
        right: 0 !important;
        background: rgba(10, 10, 10, 0.98) !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        padding: 20px !important;
        flex-direction: column !important;
        gap: 10px !important;
        border-bottom: 2px solid var(--secondary) !important;
        max-height: calc(100vh - 70px);
        overflow-y: auto;
        display: none;
        z-index: 999;
    }
    
    .nav-links.active {
        display: flex !important;
        animation: slideDownMobile 0.3s ease-out;
    }
    
    @keyframes slideDownMobile {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .nav-link {
        padding: 16px 20px !important;
        font-size: 1rem !important;
        min-height: 50px;
        display: flex !important;
        align-items: center !important;
        justify-content: flex-start !important;
        border-radius: 12px !important;
    }
    
    .nav-link i {
        font-size: 1.2rem !important;
        min-width: 24px;
    }
    
    .cta-button {
        margin-top: 10px;
        justify-content: center !important;
    }
    
    /* Главный контент */
    .main-content {
        padding: 15px !important;
        max-width: 100% !important;
        margin-top: 10px;
    }
    
    /* Герой секция для мобильных */
    .hero-section {
        min-height: auto !important;
        margin-bottom: 40px !important;
        flex-direction: column !important;
        gap: 30px !important;
        padding-top: 20px;
    }
    
    .hero-content {
        width: 100% !important;
        max-width: 100% !important;
    }
    
    .hero-title {
        font-size: 2.2rem !important;
        line-height: 1.2 !important;
        margin-bottom: 20px !important;
    }
    
    .hero-title-main {
        font-size: 2.2rem !important;
    }
    
    .hero-title-accent {
        font-size: 2.2rem !important;
    }
    
    .hero-title-sub {
        font-size: 1.8rem !important;
        margin-top: 5px;
    }
    
    .hero-description {
        font-size: 1rem !important;
        line-height: 1.5 !important;
        margin-bottom: 30px !important;
    }
    
    .hero-stats {
        flex-direction: column !important;
        gap: 20px !important;
        align-items: center;
    }
    
    .stat-item {
        width: 100%;
        padding: 15px;
        background: rgba(255, 107, 0, 0.05);
        border-radius: var(--border-radius);
        border: 1px solid rgba(255, 107, 0, 0.1);
    }
    
    .stat-number {
        font-size: 2.2rem !important;
        margin-bottom: 5px;
    }
    
    .stat-label {
        font-size: 0.85rem !important;
    }
    
    .hero-decoration {
        display: none; /* Скрываем декор на мобильных для экономии места */
    }
    
    /* Карточка игры R.E.P.O. для мобильных */
    .game-card {
        margin-bottom: 40px !important;
        border-radius: 20px !important;
    }
    
    .game-card-header {
        padding: 20px !important;
    }
    
    .game-badges {
        flex-wrap: wrap;
        gap: 8px;
    }
    
    .game-badge {
        font-size: 0.7rem !important;
        padding: 4px 10px !important;
    }
    
    .game-title-section {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 5px !important;
    }
    
    .game-title {
        font-size: 1.8rem !important;
    }
    
    .game-subtitle {
        font-size: 1rem !important;
    }
    
    .game-card-content {
        grid-template-columns: 1fr !important;
        gap: 25px !important;
        padding: 20px !important;
    }
    
    .game-image-main {
        height: 220px !important;
        border-radius: 15px !important;
    }
    
    .image-overlay {
        padding: 15px !important;
    }
    
    .player-count, .rating {
        font-size: 0.9rem !important;
    }
    
    .game-thumbnails {
        justify-content: center;
        margin-top: 15px;
    }
    
    .thumbnail {
        width: 60px !important;
        height: 40px !important;
    }
    
    .game-description p {
        font-size: 0.95rem !important;
        line-height: 1.6 !important;
    }
    
    .features-list {
        gap: 15px !important;
    }
    
    .feature {
        gap: 12px !important;
    }
    
    .feature-icon {
        font-size: 1.2rem !important;
    }
    
    .feature-text h4 {
        font-size: 1rem !important;
    }
    
    .feature-text p {
        font-size: 0.85rem !important;
    }
    
    .action-buttons {
        grid-template-columns: 1fr !important;
        gap: 12px !important;
    }
    
    .action-btn {
        padding: 16px 15px !important;
        font-size: 1rem !important;
        min-height: 50px;
    }
    
    .mod-info {
        padding: 15px !important;
    }
    
    .mod-features li {
        font-size: 0.9rem !important;
        margin-bottom: 6px !important;
    }
    
    /* Секция с другими играми для мобильных */
    .other-games-section {
        margin-bottom: 50px !important;
    }
    
    .games-grid {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
    }
    
    .game-card-small {
        border-radius: 15px !important;
    }
    
    .game-card-small-header {
        padding: 15px !important;
    }
    
    .game-small-title {
        font-size: 1.3rem !important;
    }
    
    .game-small-image {
        height: 140px !important;
    }
    
    .game-small-info {
        padding: 15px !important;
    }
    
    .game-small-info p {
        font-size: 0.9rem !important;
        margin-bottom: 15px !important;
    }
    
    .game-small-actions {
        flex-direction: column;
        gap: 10px;
    }
    
    .btn-small {
        padding: 12px !important;
        font-size: 0.9rem !important;
        min-height: 44px;
    }
    
    /* Секция характеристик для мобильных */
    .features-section {
        margin-bottom: 50px !important;
    }
    
    .features-grid {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
    }
    
    .feature-card {
        padding: 20px !important;
        border-radius: 15px !important;
    }
    
    .feature-icon {
        font-size: 2.2rem !important;
        margin-bottom: 15px !important;
    }
    
    .icon-bg {
        width: 60px !important;
        height: 60px !important;
    }
    
    .feature-title {
        font-size: 1.3rem !important;
        margin-bottom: 10px !important;
    }
    
    .feature-description {
        font-size: 0.9rem !important;
    }
    
    .feature-number {
        font-size: 3rem !important;
    }
    
    /* Футер для мобильных */
    .main-footer {
        padding: 40px 0 20px !important;
        margin-top: 40px !important;
    }
    
    .footer-content {
        padding: 0 15px !important;
        grid-template-columns: 1fr !important;
        gap: 30px !important;
        text-align: center;
    }
    
    .footer-section {
        align-items: center;
        gap: 15px;
    }
    
    .footer-logo {
        justify-content: center;
        font-size: 1.6rem !important;
    }
    
    .social-links {
        justify-content: center;
    }
    
    .footer-title {
        font-size: 1.1rem !important;
    }
    
    .footer-links {
        align-items: center;
    }
    
    .footer-links a {
        justify-content: center;
    }
    
    .contact-info {
        align-items: center;
    }
    
    .newsletter {
        width: 100%;
        max-width: 300px;
    }
    
    .footer-bottom {
        padding: 0 15px !important;
        flex-direction: column !important;
        gap: 20px !important;
        text-align: center;
    }
    
    .copyright {
        font-size: 0.8rem !important;
        line-height: 1.4;
    }
    
    .footer-numbers {
        justify-content: center;
    }
    
    /* Модальное окно для мобильных */
    .modal-overlay {
        padding: 10px !important;
        align-items: flex-end !important;
    }
    
    .modal-content {
        max-width: 100% !important;
        border-radius: 20px 20px 0 0 !important;
        max-height: 85vh;
        animation: slideUpMobile 0.3s ease-out;
    }
    
    @keyframes slideUpMobile {
        from {
            transform: translateY(100%);
        }
        to {
            transform: translateY(0);
        }
    }
    
    .modal-header {
        padding: 20px !important;
        position: sticky;
        top: 0;
        background: rgba(20, 20, 20, 0.95);
        z-index: 1;
    }
    
    .modal-header h3 {
        font-size: 1.3rem !important;
    }
    
    .modal-body {
        padding: 20px !important;
    }
    
    .download-option {
        padding: 15px !important;
        gap: 15px !important;
    }
    
    .option-icon {
        width: 40px !important;
        height: 40px !important;
        font-size: 1.2rem !important;
    }
    
    .option-info h4 {
        font-size: 1rem !important;
    }
    
    .option-info p {
        font-size: 0.85rem !important;
    }
    
    .option-download {
        width: 40px !important;
        height: 40px !important;
        font-size: 1.1rem !important;
    }
    
    .download-instructions {
        padding: 15px !important;
    }
    
    .download-instructions h4 {
        font-size: 1rem !important;
    }
    
    .download-instructions li {
        font-size: 0.9rem !important;
        margin-bottom: 8px !important;
    }
}

/* Медиа-запросы для маленьких телефонов */
@media screen and (max-width: 480px) {
    .hero-title {
        font-size: 1.9rem !important;
    }
    
    .hero-title-main,
    .hero-title-accent {
        font-size: 1.9rem !important;
    }
    
    .hero-title-sub {
        font-size: 1.5rem !important;
    }
    
    .game-title {
        font-size: 1.6rem !important;
    }
    
    .section-title {
        font-size: 1.5rem !important;
        gap: 10px !important;
    }
    
    .action-btn {
        font-size: 0.95rem !important;
    }
}

/* Медиа-запросы для очень маленьких экранов */
@media screen and (max-width: 360px) {
    html {
        font-size: 13px;
    }
    
    .logo {
        font-size: 1.4rem !important;
    }
    
    .hero-title {
        font-size: 1.7rem !important;
    }
    
    .game-title {
        font-size: 1.4rem !important;
    }
    
    .action-btn span {
        font-size: 0.9rem;
    }
}

/* Оптимизация для iOS Safari */
@supports (-webkit-touch-callout: none) {
    .nav-link,
    .action-btn,
    .btn-small,
    .mobile-menu-btn {
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
    }
    
    .mobile-menu-btn:active {
        background: var(--secondary-dark);
    }
    
    input, textarea {
        font-size: 16px; /* Предотвращает авто-зум в iOS */
    }
}

/* Оптимизация для мобильных устройств Android */
@media screen and (hover: none) and (pointer: coarse) {
    .nav-link:hover,
    .action-btn:hover,
    .btn-small:hover {
        transform: none !important;
    }
    
    .nav-link:active,
    .action-btn:active,
    .btn-small:active {
        transform: scale(0.98) !important;
        transition: transform 0.1s ease;
    }
}

/* Улучшение производительности на мобильных */
@media screen and (max-width: 768px) {
    .animated-bg {
        display: none; /* Отключаем сложные анимации фона на мобильных */
    }
    
    .floating-number {
        display: none;
    }
    
    .hexagon {
        display: none;
    }
    
    /* Упрощаем анимации для мобильных */
    .game-card:hover,
    .game-card-small:hover,
    .feature-card:hover {
        transform: none !important;
    }
    
    /* Оптимизация для медленных устройств */
    * {
        animation-duration: 0.3s !important;
        transition-duration: 0.2s !important;
    }
}

/* Портретная ориентация */
@media screen and (orientation: portrait) {
    .main-content {
        min-height: calc(100vh - 60px);
    }
}

/* Альбомная ориентация */
@media screen and (orientation: landscape) and (max-height: 500px) {
    .hero-section {
        min-height: auto !important;
        padding: 10px 0;
    }
    
    .game-image-main {
        height: 180px !important;
    }
    
    .modal-content {
        max-height: 95vh;
    }
}

/* Высокопиксельные дисплеи */
@media screen and (-webkit-min-device-pixel-ratio: 2),
       screen and (min-resolution: 192dpi) {
    .game-image,
    .game-small-image img,
    .thumbnail img {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
}

/* Темная тема по умолчанию */
@media (prefers-color-scheme: dark) {
    /* Убедимся, что наш сайт выглядит хорошо в темной теме */
    body {
        background: var(--primary);
        color: var(--light);
    }
}

/* Сенсорные жесты */
@media (pointer: coarse) {
    /* Увеличиваем зоны клика для сенсорных устройств */
    .nav-link,
    .action-btn,
    .btn-small,
    .thumbnail,
    .option-download {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Увеличиваем отступы для удобства касаний */
    .game-thumbnails {
        gap: 15px;
    }
    
    .thumbnail {
        width: 70px !important;
        height: 50px !important;
    }
}

/* Предотвращение масштабирования при фокусе на input */
input, textarea {
    font-size: 16px;
    touch-action: manipulation;
}

/* Улучшение скролла на мобильных */
@media screen and (max-width: 768px) {
    html {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
    }
    
    body {
        -webkit-overflow-scrolling: touch;
    }
    
    .modal-content {
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }
}

/* Оптимизация шрифтов для мобильных */
@media screen and (max-width: 768px) {
    h1, h2, h3, h4 {
        font-weight: 700;
        letter-spacing: -0.02em;
    }
    
    p, li, span {
        font-weight: 400;
        letter-spacing: 0;
    }
}

/* Адаптация видео и iframe */
iframe, video {
    max-width: 100%;
    height: auto;
}

/* Оптимизация для устройств с вырезом (notch) */
@supports (padding: max(0px)) {
    .main-content,
    .nav-container,
    .footer-content,
    .footer-bottom {
        padding-left: max(15px, env(safe-area-inset-left));
        padding-right: max(15px, env(safe-area-inset-right));
    }
    
    .mobile-menu-btn {
        right: max(15px, env(safe-area-inset-right));
    }
    
    .main-footer {
        padding-bottom: max(20px, env(safe-area-inset-bottom));
    }
}